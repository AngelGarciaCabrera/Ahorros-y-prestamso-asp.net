@model Inversiones

@{
    ViewData["Title"] = "SolicitudDeInversion";
}

<style>
    .Fondo-negro {
        background: #343a40;
    }
</style>

<body onload="AsignacionDeCodigo()">

   <section style="padding-top: 60px; padding-bottom: 90px; margin-top: 40px">
       <center>
           <div class="card shadow p-3 mb-5 bg-body-tertiary rounded" style="max-width: 500px; padding-top: 60px">
               @using (Html.BeginForm("SolicitudDeInversion", "Home", FormMethod.Post))
               {
                   <div class="card-header p-3 mb-2 bg-primary text-white">
                       <h1 class="card-title">Formulario de inversión</h1>
                   </div>
                   <div class="row">
                       <div class="col-md-6">
                           @Html.LabelFor(model => model.Codigo, "Código:")
                           @Html.TextBoxFor(model => model.Codigo, new { @class = "form-control", @readonly = "readonly" })
                       </div>
                       <div class="col-md-6">
                           @Html.LabelFor(model => model.Interes, "Interés:")
                           @Html.TextBoxFor(model => model.Interes, new { @class = "form-control", @disabled = "disabled" })
                       </div>
                   </div> <br>
                   <div class="row">
                       <div class="col-md-12">
                           @Html.LabelFor(model => model.Monto, "Monto:")
                           @Html.TextBoxFor(model => model.Monto, new { @class = "form-control" })
                       </div>
                   </div> <br>
                   <div class="row">
                       <div class="col-md-6">
                           @Html.LabelFor(model => model.FechaBeg, "Fecha de inicio:")
                           @Html.TextBoxFor(model => model.FechaBeg, new { @class = "form-control", @type = "datetime-local",@name=""  })
                       </div>
                       <div class="col-md-6">
                           @Html.LabelFor(model => model.FechaEnd, "Fecha de fin:")
                           @Html.TextBoxFor(model => model.FechaEnd, new { @class = "form-control", @type = "datetime-local" })
                       </div>
                       <div style="padding-left: 20px; padding-top: 20px">
                           <button style="float:left;" type="submit" class="btn btn-outline-success" name="botonPresionado" value="CalcularInteres" onclick="VerificarFecha()">Calcular Interes</button>
                       </div>
                       
                   </div> <br>
                   <div>
                       <input type="submit" name="botonPresionado"  value="Enviar" class="btn btn-outline-success">
                       <input type="reset"  name="botonPresionado"  value="Limpiar" class="btn btn-outline-danger">
                   </div>
               }
           </div>
       </center>
   </section>
    <script src="js.js"></script>
</body>
<script >
const FechaI = document.getElementById("FechaI");
const FechaF = document.getElementById("FechaF");
const enviar = document.getElementById("enviar");

function setDatesFormValues(date = new Date()) {
    FechaI.value = date.toISOString().split('T')[0]
    const dateToChange = new Date(date)
    debugger
    dateToChange.setMonth(date.getMonth() + 1)

    if (!FechaF.value) {
        FechaF.value = ''
    }
    FechaF.setAttribute("min", dateToChange.toISOString().split('T')[0]);
}

FechaI.addEventListener('change', () => {
    const FechaIDate = new Date(FechaI.value)
    setDatesFormValues(FechaIDate);
});

window.addEventListener('DOMContentLoaded', () => {
    console.log('Subio el onload')
    setDatesFormValues();
})
enviar.addEventListener('submit',() => {
    
   // crea un elemento div
   alert("se añadio Correctamente")
  })
</script>